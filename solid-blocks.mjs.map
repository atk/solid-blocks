{"version":3,"file":"solid-blocks.mjs","sources":["../node_modules/solid-js/web/dist/web.js","../src/blocks/tools.ts","../src/blocks/accordion.tsx","../src/blocks/avatar.tsx","../src/blocks/bar.tsx","../src/blocks/breadcrumbs.tsx","../src/blocks/button.tsx","../src/blocks/checkbox.tsx","../src/blocks/message.tsx","../src/blocks/meter.tsx","../src/blocks/menu.tsx","../src/blocks/modal.tsx","../src/blocks/progress.tsx","../src/blocks/radio.tsx","../src/blocks/select.tsx","../src/blocks/spinner.tsx","../src/blocks/tabs.tsx","../src/blocks/tag.tsx","../src/blocks/textfield.tsx","../src/blocks/toast.tsx","../src/blocks/tooltip.tsx"],"sourcesContent":["import { createRoot, createRenderEffect, sharedConfig, untrack, enableHydration, createSignal, onCleanup, splitProps, createMemo } from 'solid-js';\nexport { ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, createComponent, createRenderEffect as effect, getOwner, createMemo as memo, mergeProps, untrack } from 'solid-js';\n\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /*#__PURE__*/new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /*#__PURE__*/new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  class: \"className\",\n  formnovalidate: \"formNoValidate\",\n  ismap: \"isMap\",\n  nomodule: \"noModule\",\n  playsinline: \"playsInline\",\n  readonly: \"readOnly\"\n});\nconst DelegatedEvents = /*#__PURE__*/new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /*#__PURE__*/new Set([\n\"altGlyph\", \"altGlyphDef\", \"altGlyphItem\", \"animate\", \"animateColor\", \"animateMotion\", \"animateTransform\", \"circle\", \"clipPath\", \"color-profile\", \"cursor\", \"defs\", \"desc\", \"ellipse\", \"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\", \"filter\", \"font\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignObject\", \"g\", \"glyph\", \"glyphRef\", \"hkern\", \"image\", \"line\", \"linearGradient\", \"marker\", \"mask\", \"metadata\", \"missing-glyph\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\",\n\"set\", \"stop\",\n\"svg\", \"switch\", \"symbol\", \"text\", \"textPath\",\n\"tref\", \"tspan\", \"use\", \"view\", \"vkern\"]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nconst DOMElements = /*#__PURE__*/new Set([\"html\", \"base\", \"head\", \"link\", \"meta\", \"style\", \"title\", \"body\", \"address\", \"article\", \"aside\", \"footer\", \"header\", \"main\", \"nav\", \"section\", \"body\", \"blockquote\", \"dd\", \"div\", \"dl\", \"dt\", \"figcaption\", \"figure\", \"hr\", \"li\", \"ol\", \"p\", \"pre\", \"ul\", \"a\", \"abbr\", \"b\", \"bdi\", \"bdo\", \"br\", \"cite\", \"code\", \"data\", \"dfn\", \"em\", \"i\", \"kbd\", \"mark\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"small\", \"span\", \"strong\", \"sub\", \"sup\", \"time\", \"u\", \"var\", \"wbr\", \"area\", \"audio\", \"img\", \"map\", \"track\", \"video\", \"embed\", \"iframe\", \"object\", \"param\", \"picture\", \"portal\", \"source\", \"svg\", \"math\", \"canvas\", \"noscript\", \"script\", \"del\", \"ins\", \"caption\", \"col\", \"colgroup\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\", \"button\", \"datalist\", \"fieldset\", \"form\", \"input\", \"label\", \"legend\", \"meter\", \"optgroup\", \"option\", \"output\", \"progress\", \"select\", \"textarea\", \"details\", \"dialog\", \"menu\", \"summary\", \"details\", \"slot\", \"template\", \"acronym\", \"applet\", \"basefont\", \"bgsound\", \"big\", \"blink\", \"center\", \"content\", \"dir\", \"font\", \"frame\", \"frameset\", \"hgroup\", \"image\", \"keygen\", \"marquee\", \"menuitem\", \"nobr\", \"noembed\", \"noframes\", \"plaintext\", \"rb\", \"rtc\", \"shadow\", \"spacer\", \"strike\", \"tt\", \"xmp\", \"a\", \"abbr\", \"acronym\", \"address\", \"applet\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"basefont\", \"bdi\", \"bdo\", \"bgsound\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"frame\", \"frameset\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"image\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"nobr\", \"noembed\", \"noframes\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"plaintext\", \"portal\", \"pre\", \"progress\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"xmp\", \"input\"]);\n\nfunction reconcileArrays(parentNode, a, b) {\n  let bLength = b.length,\n      aEnd = a.length,\n      bEnd = bLength,\n      aStart = 0,\n      bStart = 0,\n      after = a[aEnd - 1].nextSibling,\n      map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd) parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a[aStart])) a[aStart].remove();\n        aStart++;\n      }\n    } else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      const node = a[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      const index = map.get(a[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i = aStart,\n              sequence = 1,\n              t;\n          while (++i < aEnd && i < bEnd) {\n            if ((t = map.get(a[i])) == null || t !== index + sequence) break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a[aStart];\n            while (bStart < index) parentNode.insertBefore(b[bStart++], node);\n          } else parentNode.replaceChild(b[bStart++], a[aStart++]);\n        } else aStart++;\n      } else a[aStart++].remove();\n    }\n  }\n}\n\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot(dispose => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : undefined, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template(html, check, isSVG) {\n  const t = document.createElement(\"template\");\n  t.innerHTML = html;\n  let node = t.content.firstChild;\n  if (isSVG) node = node.firstChild;\n  return node;\n}\nfunction delegateEvents(eventNames, document = window.document) {\n  const e = document[$$EVENTS] || (document[$$EVENTS] = new Set());\n  for (let i = 0, l = eventNames.length; i < l; i++) {\n    const name = eventNames[i];\n    if (!e.has(name)) {\n      e.add(name);\n      document.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction clearDelegatedEvents(document = window.document) {\n  if (document[$$EVENTS]) {\n    for (let name of document[$$EVENTS].keys()) document.removeEventListener(name, eventHandler);\n    delete document[$$EVENTS];\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null) node.removeAttribute(name);else node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null) node.removeAttributeNS(namespace, name);else node.setAttributeNS(namespace, name, value);\n}\nfunction className(node, value) {\n  if (value == null) node.removeAttribute(\"class\");else node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = e => handlerFn.call(node, handler[1], e));\n  } else node.addEventListener(name, handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}),\n        prevKeys = Object.keys(prev);\n  let i, len;\n  for (i = 0, len = prevKeys.length; i < len; i++) {\n    const key = prevKeys[i];\n    if (!key || key === \"undefined\" || value[key]) continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i = 0, len = classKeys.length; i < len; i++) {\n    const key = classKeys[i],\n          classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue) continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value) return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\") return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = undefined);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s;\n  for (s in prev) {\n    value[s] == null && nodeStyle.removeProperty(s);\n    delete prev[s];\n  }\n  for (s in value) {\n    v = value[s];\n    if (v !== prev[s]) {\n      nodeStyle.setProperty(s, v);\n      prev[s] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => props.ref && props.ref(node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction dynamicProperty(props, key) {\n  const src = props[key];\n  Object.defineProperty(props, key, {\n    get() {\n      return src();\n    },\n    enumerable: true\n  });\n  return props;\n}\nfunction innerHTML(parent, content) {\n  !sharedConfig.context && (parent.innerHTML = content);\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== undefined && !initial) initial = [];\n  if (typeof accessor !== \"function\") return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect(current => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\") continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren) insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef);\n  }\n}\nfunction hydrate$1(code, element, options = {}) {\n  sharedConfig.completed = globalThis._$HY.completed;\n  sharedConfig.events = globalThis._$HY.events;\n  sharedConfig.load = globalThis._$HY.load;\n  sharedConfig.gather = root => gatherHydratable(element, root);\n  sharedConfig.registry = new Map();\n  sharedConfig.context = {\n    id: options.renderId || \"\",\n    count: 0\n  };\n  gatherHydratable(element, options.renderId);\n  const dispose = render(code, element, [...element.childNodes], options);\n  sharedConfig.context = null;\n  return dispose;\n}\nfunction getNextElement(template) {\n  let node, key;\n  if (!sharedConfig.context || !(node = sharedConfig.registry.get(key = getHydrationKey()))) {\n    return template.cloneNode(true);\n  }\n  if (sharedConfig.completed) sharedConfig.completed.add(node);\n  sharedConfig.registry.delete(key);\n  return node;\n}\nfunction getNextMatch(el, nodeName) {\n  while (el && el.localName !== nodeName) el = el.nextSibling;\n  return el;\n}\nfunction getNextMarker(start) {\n  let end = start,\n      count = 0,\n      current = [];\n  if (sharedConfig.context) {\n    while (end) {\n      if (end.nodeType === 8) {\n        const v = end.nodeValue;\n        if (v === \"#\") count++;else if (v === \"/\") {\n          if (count === 0) return [end, current];\n          count--;\n        }\n      }\n      current.push(end);\n      end = end.nextSibling;\n    }\n  }\n  return [end, current];\n}\nfunction runHydrationEvents() {\n  if (sharedConfig.events && !sharedConfig.events.queued) {\n    queueMicrotask(() => {\n      const {\n        completed,\n        events\n      } = sharedConfig;\n      events.queued = false;\n      while (events.length) {\n        const [el, e] = events[0];\n        if (!completed.has(el)) return;\n        eventHandler(e);\n        events.shift();\n      }\n    });\n    sharedConfig.events.queued = true;\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i = 0, nameLen = classNames.length; i < nameLen; i++) node.classList.toggle(classNames[i], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef) {\n  let isCE, isProp, isChildProp;\n  if (prop === \"style\") return style(node, value, prev);\n  if (prop === \"classList\") return classList(node, value, prev);\n  if (value === prev) return prev;\n  if (prop === \"ref\") {\n    if (!skipRef) value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e = prop.slice(3);\n    prev && node.removeEventListener(e, prev);\n    value && node.addEventListener(e, value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e = prop.slice(10);\n    prev && node.removeEventListener(e, prev, true);\n    value && node.addEventListener(e, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if ((isChildProp = ChildProperties.has(prop)) || !isSVG && (PropAliases[prop] || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\"))) {\n    if (prop === \"class\" || prop === \"className\") className(node, value);else if (isCE && !isProp && !isChildProp) node[toPropertyName(prop)] = value;else node[PropAliases[prop] || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns) setAttributeNS(node, ns, prop, value);else setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e) {\n  const key = `$$${e.type}`;\n  let node = e.composedPath && e.composedPath()[0] || e.target;\n  if (e.target !== node) {\n    Object.defineProperty(e, \"target\", {\n      configurable: true,\n      value: node\n    });\n  }\n  Object.defineProperty(e, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (sharedConfig.registry && !sharedConfig.done) {\n    sharedConfig.done = true;\n    document.querySelectorAll(\"[id^=pl-]\").forEach(elem => elem.remove());\n  }\n  while (node !== null) {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== undefined ? handler.call(node, data, e) : handler.call(node, e);\n      if (e.cancelBubble) return;\n    }\n    node = node.host && node.host !== node && node.host instanceof Node ? node.host : node.parentNode;\n  }\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  if (sharedConfig.context && !current) current = [...parent.childNodes];\n  while (typeof current === \"function\") current = current();\n  if (value === current) return current;\n  const t = typeof value,\n        multi = marker !== undefined;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t === \"string\" || t === \"number\") {\n    if (sharedConfig.context) return current;\n    if (t === \"number\") value = value.toString();\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data = value;\n      } else node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else current = parent.textContent = value;\n    }\n  } else if (value == null || t === \"boolean\") {\n    if (sharedConfig.context) return current;\n    current = cleanChildren(parent, current, marker);\n  } else if (t === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\") v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (sharedConfig.context) {\n      if (!array.length) return current;\n      for (let i = 0; i < array.length; i++) {\n        if (array[i].parentNode) return current = array;\n      }\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi) return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value instanceof Node) {\n    if (sharedConfig.context && value.parentNode) return current = multi ? [value] : value;\n    if (Array.isArray(current)) {\n      if (multi) return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap) {\n  let dynamic = false;\n  for (let i = 0, len = array.length; i < len; i++) {\n    let item = array[i],\n        prev = current && current[i];\n    if (item instanceof Node) {\n      normalized.push(item);\n    } else if (item == null || item === true || item === false) ; else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if ((typeof item) === \"function\") {\n      if (unwrap) {\n        while (typeof item === \"function\") item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value) {\n        normalized.push(prev);\n      } else normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i = 0, len = array.length; i < len; i++) parent.insertBefore(array[i], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === undefined) return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      const el = current[i];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i) isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);else isParent && el.remove();\n      } else inserted = true;\n    }\n  } else parent.insertBefore(node, marker);\n  return [node];\n}\nfunction gatherHydratable(element, root) {\n  const templates = element.querySelectorAll(`*[data-hk]`);\n  for (let i = 0; i < templates.length; i++) {\n    const node = templates[i];\n    const key = node.getAttribute(\"data-hk\");\n    if ((!root || key.startsWith(root)) && !sharedConfig.registry.has(key)) sharedConfig.registry.set(key, node);\n  }\n}\nfunction getHydrationKey() {\n  const hydrate = sharedConfig.context;\n  return `${hydrate.id}${hydrate.count++}`;\n}\nfunction NoHydration(props) {\n  return sharedConfig.context ? undefined : props.children;\n}\nfunction Hydration(props) {\n  return props.children;\n}\nfunction voidFn() {}\n\nfunction throwInBrowser(func) {\n  const err = new Error(`${func.name} is not supported in the browser, returning undefined`);\n  console.error(err);\n}\nfunction renderToString(fn, options) {\n  throwInBrowser(renderToString);\n}\nfunction renderToStringAsync(fn, options) {\n  throwInBrowser(renderToStringAsync);\n}\nfunction renderToStream(fn, options) {\n  throwInBrowser(renderToStream);\n}\nfunction ssr(template, ...nodes) {}\nfunction ssrElement(name, props, children, needsId) {}\nfunction ssrClassList(value) {}\nfunction ssrStyle(value) {}\nfunction ssrAttribute(key, value) {}\nfunction ssrHydrationKey() {}\nfunction resolveSSRNode(node) {}\nfunction escape(html) {}\nfunction ssrSpread(props, isSVG, skipChildren) {}\n\nconst isServer = false;\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nconst hydrate = (...args) => {\n  enableHydration();\n  return hydrate$1(...args);\n};\nfunction Portal(props) {\n  const {\n    useShadow\n  } = props,\n        marker = document.createTextNode(\"\"),\n        mount = props.mount || document.body;\n  function renderPortal() {\n    if (sharedConfig.context) {\n      const [s, set] = createSignal(false);\n      queueMicrotask(() => set(true));\n      return () => s() && props.children;\n    } else return () => props.children;\n  }\n  if (mount instanceof HTMLHeadElement) {\n    const [clean, setClean] = createSignal(false);\n    const cleanup = () => setClean(true);\n    createRoot(dispose => insert(mount, () => !clean() ? renderPortal()() : dispose(), null));\n    onCleanup(() => {\n      if (sharedConfig.context) queueMicrotask(cleanup);else cleanup();\n    });\n  } else {\n    const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG),\n          renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n      mode: \"open\"\n    }) : container;\n    Object.defineProperty(container, \"host\", {\n      get() {\n        return marker.parentNode;\n      },\n      configurable: true\n    });\n    insert(renderRoot, renderPortal());\n    mount.appendChild(container);\n    props.ref && props.ref(container);\n    onCleanup(() => mount.removeChild(container));\n  }\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = sharedConfig.context ? getNextElement() : createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\n\nexport { Aliases, voidFn as Assets, ChildProperties, DOMElements, DelegatedEvents, Dynamic, Hydration, voidFn as HydrationScript, NoHydration, Portal, PropAliases, Properties, SVGElements, SVGNamespace, addEventListener, assign, classList, className, clearDelegatedEvents, delegateEvents, dynamicProperty, escape, voidFn as generateHydrationScript, voidFn as getAssets, getHydrationKey, getNextElement, getNextMarker, getNextMatch, hydrate, innerHTML, insert, isServer, render, renderToStream, renderToString, renderToStringAsync, resolveSSRNode, runHydrationEvents, setAttribute, setAttributeNS, spread, ssr, ssrAttribute, ssrClassList, ssrElement, ssrHydrationKey, ssrSpread, ssrStyle, style, template, use, voidFn as useAssets };\n","import { JSX, createEffect, createSignal, onCleanup, createMemo, Accessor, Setter } from \"solid-js\";\n\nexport type WrappedElement<P> = (props: P) => JSX.Element;\n\nexport const toStyleObject = (style: string | JSX.CSSProperties) => {\n  if (typeof style === \"object\") {\n    return style;\n  }\n  const styleObject: JSX.CSSProperties = {};\n  (style || \"\").replace(/([\\w-]+)\\s*:\\s*([^;]+)/g, (_, prop, value) => {\n    styleObject[prop] = value;\n    return \"\";\n  });\n  return styleObject;\n};\n\nexport const composeStyles = (...styles: (JSX.CSSProperties | string)[]) =>\n  Object.assign({}, ...styles.map(toStyleObject));\n\nexport const getNearestNode = (\n  target: EventTarget | null | undefined,\n  name: string\n): Node | null | undefined => {\n  if (!target) {\n    return;\n  }\n  let nearest: Node & ParentNode | null = target as Node & ParentNode;\n  while (nearest && nearest.nodeName !== name) {\n    nearest = nearest.parentNode;\n  }\n  return nearest;\n};\n\nexport const maxRandom = 8;\nlet lastItem = 0;\nexport const getRandom = () => {\n  const nextItem =\n    1 + Math.floor(Math.random() * (maxRandom - (lastItem ? 1 : 0)));\n  lastItem = lastItem ? nextItem + (nextItem === lastItem ? 1 : 0) : nextItem;\n  return lastItem;\n};\n\nexport type MediaQueryItem = \n  |'all'\n  | 'print'\n  | 'screen' \n  | `(${'min-' | 'max-' | ''}${\n    | 'aspect-ratio'\n    | 'color'\n    | 'color-gamut'\n    | 'color-index'\n    | 'display-mode'\n    | 'grid'\n    | 'inverted-colors'\n    | 'height'\n    | 'orientation'\n    | 'pointer'\n    | `prefers-${'color-scheme' | 'contrast' | 'reduced-motion' | 'reduced-transparency'}`\n    | 'resolution'\n    | 'scan'\n    | 'width'\n  }: ${string})`;\nexport type MediaQueryOperator = ' and ' | ' not ' | ' only ' | ', ';\nexport type MediaQueryString = \n  | MediaQueryItem\n  | `${MediaQueryItem}${MediaQueryOperator}${MediaQueryItem}`\n\nexport const useMediaQuery = (query: MediaQueryString): Accessor<boolean> => {\n  const matcher = window.matchMedia(query);\n  const [matches, setMatches] = createSignal(matcher.matches);\n\n  const changeHandler = (ev: MediaQueryListEvent) => setMatches(ev.matches);\n  matcher.addEventListener('change', changeHandler);\n  onCleanup(() => matcher.removeEventListener('change', changeHandler));\n\n  return matches\n}\n\nconst parseStorage = <T extends any | string>(data: string | null | undefined, useJson: boolean): T | undefined =>\n  useJson ? (data ? JSON.parse(data) : undefined) : data ?? undefined;\n\nconst putStorage = <T extends any | string>(key: string, data: T): void =>\n  localStorage.setItem(key, typeof data === 'string' ? data : JSON.stringify(data))\n\nexport function createLocalStorageSignal<T extends any | string>(key: string, initialValue?: T, useJson = false):\n  [Accessor<T | undefined>, Setter<T | undefined>] {\n  if (localStorage.getItem(key) === null && initialValue !== undefined) {\n    putStorage(key, initialValue);\n  }\n  const [value, setValue] = createSignal(parseStorage<T>(localStorage.getItem(key), useJson));\n  \n  createEffect(() =>\n    useJson && value() === undefined\n    ? localStorage.removeItem(key)\n    : putStorage(key, value())\n  );\n  \n  return [value, setValue];\n}\n\nexport const useDarkMode = (localStorageKey = \"COLOR_SCHEME\") => {\n  const mediaQueryPrefersDark = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  const [storedPrefersDark, setStoredPrefersDark] = createLocalStorageSignal<boolean>(localStorageKey, undefined, true);\n  const darkMode = createMemo(() => storedPrefersDark() ?? mediaQueryPrefersDark());\n\n  createEffect(() => {\n    document.body.classList.toggle('dark-mode', darkMode())\n  });\n\n  return [darkMode, setStoredPrefersDark];\n};\n\nexport type NodeName = string;\n\nexport const getElements = (\n  children: JSX.Element | ((...args: any[]) => JSX.Element),\n  filter?: NodeName | ((node: HTMLElement) => boolean),\n  /** if the children contains a callback, you may add an array of props */\n  props: any = [],\n  /** you can add prepended results if you want */\n  result = []\n): HTMLElement[] | undefined => {\n  if (!children) {\n    return;\n  }\n  if (Array.isArray(children)) {\n    children.forEach((child) => getElements(child, filter, props, result));\n  } else if (typeof children === \"function\") {\n    getElements(children.apply(null, props), filter, props, result);\n  } else {\n    const node = children as HTMLElement;\n    if (\n      !filter || (typeof filter === \"function\" ? filter(node) : node.nodeName === filter)\n    ) {\n      (result as HTMLElement[]).push(node);\n    }\n  }\n  return result;\n};\n","import {\n  Component,\n  createMemo,\n  createSignal,\n  JSX,\n  mergeProps,\n  onCleanup,\n  onMount,\n  splitProps,\n} from \"solid-js\";\nimport { getNearestNode, WrappedElement } from \"./tools\";\n\nimport \"./base.css\";\nimport \"./accordion.css\";\n\nexport type AccordionProps = Omit<\n  JSX.HTMLAttributes<HTMLDetailsElement>,\n  \"children\"\n> & {\n  children: WrappedElement<boolean> | JSX.Element;\n  open?: boolean;\n  ontoggle?: (open: boolean) => void;\n};\n\nexport const Accordion: Component<AccordionProps> = (props) => {\n  const [local, detailsProps] = splitProps(props, [\"children\", \"ontoggle\"]);\n  const [open, setOpen] = createSignal(!!props.open);\n  let detailsRef!: HTMLDetailsElement;\n  const children = createMemo(() =>\n    typeof props.children === \"function\"\n      ? props.children(open())\n      : props.children\n  );\n\n  const toggleHandler = () => {\n    if (detailsRef) {\n      setOpen(detailsRef.open);\n      local.ontoggle?.(detailsRef.open);\n    }\n  };\n\n  onMount(() => detailsRef?.addEventListener(\"toggle\", toggleHandler));\n  onCleanup(() => detailsRef?.addEventListener(\"toggle\", toggleHandler));\n\n  return (\n    <details\n      ref={detailsRef}\n      {...detailsProps}\n      classList={mergeProps(props.classList ?? {}, { \"sb-accordion\": true })}\n      open={!!props.open}\n    >\n      {children()}\n    </details>\n  );\n};\n\nexport type AccordionHeaderProps = JSX.HTMLAttributes<HTMLElement>;\n\nexport const AccordionHeader: Component<AccordionHeaderProps> = (props) => (\n  <summary\n    classList={mergeProps(props.classList ?? {}, {\n      \"sb-accordion-header\": true,\n    })}\n  >\n    {props.children}\n  </summary>\n);\n\nexport type AccordionGroupProps = JSX.HTMLAttributes<HTMLElement> & {\n  allowMultiple?: boolean;\n  allowToggle?: boolean;\n};\n\nexport const AccordionGroup: Component<AccordionGroupProps> = (props) => {\n  const [local, divProps] = splitProps(props, [\"allowMultiple\", \"allowToggle\"]);\n  const clickHandler = createMemo(() => (ev: MouseEvent) => {\n    if (!ev.target) {\n      return;\n    }\n    const details = getNearestNode(ev.target, \"DETAILS\") as\n      | HTMLDetailsElement\n      | undefined;\n    if (!details) {\n      return;\n    }\n    const open = details.parentNode?.querySelectorAll(\n      \"details.sb-accordion[open]\"\n    ) ?? [];\n    if (open.length === 0) {\n      return;\n    }\n\n    if (!local.allowMultiple && !details.open) {\n      Array.prototype.forEach.call(open, (item) => {\n        if (item !== details) {\n          item.removeAttribute(\"open\");\n        }\n      });\n    }\n    if (!local.allowToggle && details.open && open.length === 1) {\n      ev.preventDefault();\n    }\n  });\n  const keyupHandler = createMemo(() => (ev: KeyboardEvent) => {\n    const details = getNearestNode(ev.target, \"DETAILS\");\n    if (!details || !details.parentNode) {\n      return;\n    }\n    const grouped: NodeListOf<HTMLDetailsElement> =\n      details.parentNode.querySelectorAll(\"details.sb-accordion\");\n    const index = Array.prototype.indexOf.call(grouped, details);\n    if (index === -1) {\n      return;\n    }\n    if (ev.key === \"ArrowLeft\" && index !== 0) {\n      const detail = grouped[index - 1];\n      const summary = detail.querySelector(\"summary\");\n      summary?.focus();\n      !detail.open && summary?.click();\n    }\n    if (ev.key === \"ArrowRight\" && index + 1 < grouped.length) {\n      const detail = grouped[index + 1];\n      const summary = detail.querySelector(\"summary\");\n      summary?.focus();\n      !detail.open && summary?.click();\n    }\n  });\n  return (\n    <section\n      {...divProps}\n      classList={mergeProps(props.classList ?? {}, {\n        \"sb-accordion-group\": true,\n      })}\n      onclick={clickHandler()}\n      onkeyup={keyupHandler()}\n    />\n  );\n};\n","import { Component, JSX, createMemo, splitProps, mergeProps } from \"solid-js\";\nimport { composeStyles, getRandom } from \"./tools\";\nimport \"./base.css\";\nimport \"./avatar.css\";\n\nexport type AvatarProps = {\n  img?: string;\n  name?: string;\n  fallback?: JSX.Element;\n  plus?: number;\n} & JSX.HTMLAttributes<HTMLDivElement>;\n\nconst char =\n  \"[A-Za-z\\xAA\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02B8\\u02E0-\\u02E4\\u0370-\\u0373\\u0375-\\u0377\\u037A-\\u037D\\u037F\\u0384\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03E1\\u03F0-\\u0484\\u0487-\\u052F\\u1C80-\\u1C88\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FC4\\u1FC6-\\u1FD3\\u1FD6-\\u1FDB\\u1FDD-\\u1FEF\\u1FF2-\\u1FF4\\u1FF6-\\u1FFE\\u2071\\u207F\\u2090-\\u209C\\u2126\\u212A\\u212B\\u2132\\u214E\\u2160-\\u2188\\u2C60-\\u2C7F\\u2DE0-\\u2DFF\\uA640-\\uA69F\\uA722-\\uA787\\uA78B-\\uA7BF\\uA7C2-\\uA7C6\\uA7F7-\\uA7FF\\uAB30-\\uAB5A\\uAB5C-\\uAB67\\uFB00-\\uFB06\\uFE2E\\uFE2F\\uFF21-\\uFF3A\\uFF41-\\uFF5A]|\\uD800[\\uDD40-\\uDD8E\\uDDA0]|\\uD834[\\uDE00-\\uDE45]\";\nconst initialsRegexp = new RegExp(`^.*?(${char})(?:.*\\\\s+\\\\S*?(${char}))?.*$`);\n\nexport const getInitials = (name: string) =>\n  name\n    // remove superfluous spaces and stuff in brackets\n    .replace(/^\\s+|\\(.*?\\)|\\{.*?\\}|\\[.*\\]|<.*?>|\\s+$/g, \"\")\n    // find first char of the first name and the last name\n    .replace(initialsRegexp, \"$1$2\")\n    .toUpperCase();\n\nexport const Avatar: Component<AvatarProps> = (props) => {\n  const [local, divProps] = splitProps(props, [\n    \"classList\",\n    \"children\",\n    \"img\",\n    \"name\",\n    \"fallback\",\n  ]);\n  const initials = createMemo(() =>\n    local.name ? getInitials(local.name) : \"\"\n  );\n\n  if (local.img) {\n    return (\n      <div\n        classList={mergeProps(local.classList ?? {}, { \"sb-avatar\": true })}\n        role=\"figure\"\n        data-random={getRandom()}\n        {...divProps}\n      >\n        <img src={local.img} alt={local.name} />\n        <span aria-hidden=\"true\">{initials}</span>\n        {local.children}\n      </div>\n    );\n  }\n  if (local.name) {\n    return (\n      <div\n        classList={mergeProps(local.classList ?? {}, { \"sb-avatar\": true })}\n        role=\"img\"\n        aria-label={local.name}\n        data-random={getRandom()}\n        {...divProps}\n      >\n        {initials}\n        {local.children}\n      </div>\n    );\n  }\n  return (\n    <div\n      classList={mergeProps(local.classList ?? {}, { \"sb-avatar\": true })}\n      role=\"img\"\n      data-random={getRandom()}\n      aria-label=\"Unknown\"\n      {...divProps}\n    >\n      {local.fallback ?? \"?\"}\n      {local.children}\n    </div>\n  );\n};\n\nexport type AvatarBadgeProps = {\n  borderColor?: string;\n  background?: string;\n} & JSX.HTMLAttributes<HTMLSpanElement>;\n\nexport const AvatarBadge: Component<AvatarBadgeProps> = (props) => {\n  const [local, spanProps] = splitProps(props, [\n    \"classList\",\n    \"borderColor\",\n    \"background\",\n    \"style\",\n  ]);\n  const composedStyle = composeStyles(local.style ?? {}, {\n    \"border-color\": local.borderColor,\n    background: local.background,\n  });\n\n  return (\n    <span\n      classList={mergeProps(local.classList ?? {}, { \"sb-badge\": true })}\n      {...spanProps}\n      style={composedStyle}\n    />\n  );\n};\n\nexport type AvatarGroupProps = JSX.HTMLAttributes<HTMLDivElement> & {\n  \"data-plus\"?: string;\n};\n\nexport const AvatarGroup: Component<AvatarGroupProps> = (props) => (\n  <div\n    {...props}\n    classList={mergeProps(props.classList ?? {}, { \"sb-avatar\": true })}\n    role=\"group\"\n    aria-haspopup={Array.isArray(props.children) && props.children.length > 3}\n  />\n);\n","import { Component, JSX, mergeProps, splitProps } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport \"./base.css\";\nimport \"./bar.css\";\n\nexport type BarProps = JSX.HTMLAttributes<HTMLDivElement> & {\n  mount?: HTMLElement;\n  placement?: \"top\" | \"right\" | \"bottom\" | \"left\";\n  position?: Omit<JSX.CSSProperties[\"position\"], \"static\">;\n  portal?: boolean;\n};\n\nexport const Bar: Component<BarProps> = (props) => {\n  const [local, rest] = splitProps(props, [\n    \"placement\",\n    \"position\",\n    \"mount\",\n    \"portal\",\n  ]);\n  const divProps = mergeProps(rest, {\n    class: `${local.placement}${\n      local.position ? \" \" + local.position : \"\"\n    } sb-bar ${props.class ? \" \" + props.class : \"\"}`,\n  });\n  return local.portal === false ? (\n    <div {...divProps} />\n  ) : (\n    <Portal mount={local.mount}>\n      <div {...divProps} />\n    </Portal>\n  );\n};\n","import { Component, JSX, For } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./breadcrumbs.css\";\n\nexport type BreadcrumbsProps = JSX.HTMLAttributes<HTMLOListElement> & {\n  children: JSX.Element | JSX.Element[];\n};\n\nexport const Breadcrumbs: Component<BreadcrumbsProps> = (props) => (\n  <nav class=\"sb-breadcrumbs\">\n    <ol {...props}>\n      <For\n        each={Array.isArray(props.children) ? props.children : [props.children]}\n      >\n        {(item) => <li>{item}</li>}\n      </For>\n    </ol>\n  </nav>\n);\n","import { Component, JSX, mergeProps, splitProps } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./button.css\";\n\nexport type ButtonProps = JSX.HTMLAttributes<HTMLButtonElement> & {\n  variant?: \"primary\" | \"secondary\" | \"link\" | \"icon\";\n};\n\nexport const Button: Component<ButtonProps> = (props) => {\n  const [local, buttonProps] = splitProps(props, [\"variant\", \"classList\"]);\n\n  return (\n    <button\n      {...buttonProps}\n      classList={mergeProps(local.classList ?? {}, {\n        \"sb-button\": true,\n        [local.variant ?? \"primary\"]: true,\n      })}\n    />\n  );\n};\n","import { Component, JSX, splitProps, Show } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./checkbox.css\";\n\nexport type CheckboxProps = Omit<\n  JSX.HTMLAttributes<HTMLLabelElement> & JSX.HTMLAttributes<HTMLInputElement>,\n  \"onchange\"\n> & {\n  /**\n   * align the checkbox inside its label\n   * can be 'left' or 'right; default is 'left'\n   */\n  align?: \"left\" | \"right\";\n  autofocus?: boolean;\n  checked?: boolean;\n  disabled?: boolean;\n  name?: string;\n  onchange?: (checked: boolean) => void;\n  oninvalid?: JSX.EventHandler<HTMLInputElement, Event>;\n  required?: boolean;\n  switch?: boolean;\n  value?: string;\n};\n\nexport const Checkbox: Component<CheckboxProps> = (props) => {\n  const [inputProps, content, labelProps] = splitProps(\n    props,\n    [\n      \"accessKey\",\n      \"aria-disabled\",\n      \"aria-invalid\",\n      \"autofocus\",\n      \"checked\",\n      \"class\",\n      \"disabled\",\n      \"id\",\n      \"name\",\n      \"onclick\",\n      \"onkeydown\",\n      \"onkeypress\",\n      \"onkeyup\",\n      \"oninvalid\",\n      \"required\",\n      \"value\",\n    ],\n    [\"align\", \"children\", \"onchange\", \"switch\"]\n  );\n\n  const changeHandler = (ev: Event) => content.onchange?.((ev.target as HTMLInputElement)?.checked);\n\n  return (\n    <label\n      class={`${content.align || \"left\"} ${\n        content.switch ? \" switch\" : \"\"\n      } sb-checkbox`}\n      {...labelProps}\n    >\n      <Show when={content.align === \"right\"}>{content.children}</Show>\n      <input\n        type=\"checkbox\"\n        role={content.switch ? \"switch\" : undefined}\n        {...inputProps}\n        onchange={changeHandler}\n      />\n      <Show when={content.align !== \"right\"}>{content.children}</Show>\n    </label>\n  );\n};\n","import { Component, JSX, createMemo, splitProps } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./message.css\";\n\nexport type MessageProps = {\n  type: \"success\" | \"info\" | \"warning\" | \"error\";\n  inline?: boolean;\n} & JSX.HTMLAttributes<HTMLDivElement>;\n\nexport const Message: Component<MessageProps> = (props) => {\n  const [messageProps, divProps] = splitProps(props, [\n    \"type\",\n    \"class\",\n    \"inline\",\n  ]);\n  const className = createMemo(() =>\n    [\n      ...new Set(\n        [\n          \"sb-message\",\n          messageProps.type,\n          messageProps.class,\n          messageProps.inline && \"inline\",\n        ].filter(Boolean)\n      ),\n    ].join(\" \")\n  );\n\n  return (\n    <p\n      class={className()}\n      role={messageProps.type === \"error\" ? \"alert\" : undefined}\n      {...divProps}\n    />\n  );\n};\n","import { Component, JSX } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./meter.css\";\n\nexport type MeterProps = JSX.HTMLAttributes<HTMLDivElement> & {\n  min?: number | string;\n  max?: number | string;\n  value?: number | string;\n};\n\nexport const Meter: Component<MeterProps> = (props) => (\n  <div\n    {...props}\n    role={\n      \"meter\" as MeterProps[\"role\"] /* https://github.com/ryansolid/dom-expressions/pull/79 */\n    }\n    class={props.class ? `sb-meter ${props.class}` : \"sb-meter\"}\n    aria-valuenow={props.value ?? props[\"aria-valuenow\"]}\n    aria-valuemin={props.min ?? props[\"aria-valuemin\"]}\n    aria-valuemax={props.max ?? props[\"aria-valuemax\"]}\n  >\n    <svg\n      aria-hidden=\"true\"\n      viewBox={`0 0 ${props.max ?? props[\"aria-valuemax\"]} 10`}\n    >\n      <rect\n        x=\"0\"\n        y=\"0\"\n        height=\"10\"\n        width={props.value ?? props[\"aria-valuenow\"] ?? 0}\n      />\n    </svg>\n    {props.children}\n  </div>\n);\n","import {\n  Accessor,\n  JSX,\n  Component,\n  onMount,\n  onCleanup,\n  createSignal,\n  createMemo,\n  createContext,\n  useContext,\n  splitProps,\n  createEffect,\n  Show,\n} from \"solid-js\";\nimport { Button, ButtonProps } from \"./button\";\nimport { getElements } from \"./tools\";\n\nimport \"./base.css\";\nimport \"./menu.css\";\nimport { isServer } from \"solid-js/web\";\n\nexport type MenuProps = JSX.HTMLAttributes<HTMLDivElement> & {\n  open?: boolean;\n  ontoggle?: (open?: boolean) => void;\n  align?: \"left\" | \"center\" | \"right\";\n};\n\nconst getFirstMenuButton = (open: Accessor<boolean>) => {\n  let counter = 0;\n  return (node: HTMLElement) => {\n    const isButton =\n      node.nodeName === \"BUTTON\" || node.getAttribute(\"role\") === \"button\";\n    const isMenuButton =\n      isButton && node.getAttribute(\"aria-haspopup\") === \"menu\";\n    const isFirstMenuButton = isMenuButton && counter++ === 0;\n    if (isFirstMenuButton) {\n      if (open() && node.getAttribute(\"aria-expanded\") !== \"true\") {\n        node.setAttribute(\"aria-expanded\", \"true\");\n      } else if (!open() && node.getAttribute(\"aria-expanded\") === \"true\") {\n        node.setAttribute(\"aria-expanded\", \"false\");\n      }\n    }\n    return isFirstMenuButton;\n  };\n};\n\nconst getMenuItems = () => {\n  let counter = 0;\n  return (node: HTMLElement) => {\n    const isButton =\n      node.nodeName === \"BUTTON\" || node.getAttribute(\"role\") === \"button\";\n    const isMenuButton =\n      isButton && node.getAttribute(\"aria-haspopup\") === \"menu\";\n    const isFirstMenuButton = isMenuButton && counter++ === 0;\n    return !isFirstMenuButton;\n  };\n};\n\nexport const Menu: Component<MenuProps> = (props) => {\n  const [open, setOpen] = createSignal(!!props.open);\n  const [local, divProps] = splitProps(props, [\n    \"open\",\n    \"children\",\n    \"ontoggle\",\n    \"align\",\n  ]);\n  const opener = createMemo<HTMLElement | undefined>(\n    () => (getElements(props.children, getFirstMenuButton(open), [open()]) ?? [])[0]\n  );\n  const menuItems = createMemo(() =>\n    getElements(props.children, getMenuItems(), [open()]) ?? []\n  );\n\n  let menuRef!: HTMLDivElement;\n\n  createEffect(() => {\n    const visible = open();\n    local.ontoggle?.(visible);\n    if (visible) {\n      menuItems()[0].focus();\n    }\n  });\n\n  const clickHandler = (ev: MouseEvent) => {\n    const target = ev.target as HTMLElement;\n    const role = target?.getAttribute(\"role\");\n    const button = opener();\n    if (!ev.defaultPrevented && button) {\n      if (ev.target === button) {\n        setOpen(\n          (open) => !open && button.getAttribute(\"aria-disabled\") !== \"true\"\n        );\n      } else if (\n        !button.contains(target) &&\n        role !== \"menuitemradio\" &&\n        role !== \"menuitemcheckbox\"\n      ) {\n        setOpen(false);\n      }\n    }\n  };\n\n  onMount(() => !isServer && document.addEventListener(\"click\", clickHandler, { capture: false }));\n  onCleanup(() => !isServer && document.removeEventListener(\"click\", clickHandler));\n\n  let focusItem: HTMLElement | undefined;\n  const overHandler = (ev: MouseEvent) => {\n    const target = ev.target as HTMLElement;\n    if (\n      [\"menuitem\", \"menuitemradio\", \"menuitemcheckbox\"].includes(\n        target?.getAttribute(\"role\") ?? ''\n      ) &&\n      target?.tabIndex !== -1 &&\n      target?.getAttribute(\"aria-disabled\") !== \"true\"\n    ) {\n      focusItem = target;\n      focusItem?.focus();\n    }\n  };\n\n  const moveFocus = (step: 1 | -1) => {\n    const menuItems = menuRef.querySelectorAll<HTMLElement>(\n      '[role^=menuitem]:not([aria-disabled], [tabIndex=\"-1\"])'\n    );\n    const currentPos = focusItem\n      ? Array.prototype.findIndex.call(menuItems, (item) => item === focusItem)\n      : -1;\n    const newPos =\n      currentPos === -1\n        ? 1\n        : (menuItems.length + step + currentPos) % menuItems.length;\n    focusItem = menuItems[newPos];\n    focusItem.focus();\n  };\n\n  const keyHandler = (ev: KeyboardEvent) => {\n    const target = ev.target as HTMLElement;\n    if (ev.key === \"Escape\" && open()) {\n      setOpen(false);\n      opener()?.focus();\n    }\n    const role = target?.getAttribute(\"role\");\n    if (\n      ev.key === \" \" &&\n      [\"menuitem\", \"menuitemradio\", \"menuitemcheckbox\"].includes(role ?? '')\n    ) {\n      target.click();\n      if (role === \"menuitemradio\") {\n        const radios = target.parentNode?.querySelectorAll<HTMLElement>(\n          '[role=\"menuitemradio\"]:not([aria-disabled], [tabIndex=\"-1\"]'\n        ) ?? [];\n        const currentPos = Array.prototype.indexOf.call(radios, target);\n        const newPos = (radios.length + 1 + currentPos) % radios.length;\n        focusItem = radios[newPos];\n        focusItem?.focus();\n      }\n      ev.preventDefault();\n    }\n    if (ev.key === \"ArrowDown\") {\n      moveFocus(1);\n      ev.preventDefault();\n    } else if (ev.key === \"ArrowUp\") {\n      moveFocus(-1);\n      ev.preventDefault();\n    }\n  };\n\n  return (\n    <div\n      ref={menuRef}\n      {...divProps}\n      class={`sb-menu${divProps.class ? \" \" + divProps.class : \"\"}${\n        local.align ? \" \" + local.align : \"\"\n      }`}\n      onkeydown={keyHandler}\n    >\n      {opener()}\n      <div tabIndex=\"-1\" role=\"menu\" hidden={!open()} onmouseover={overHandler}>\n        {menuItems()}\n      </div>\n    </div>\n  );\n};\n\nexport type MenuButtonProps = ButtonProps;\n\nexport const MenuButton: Component<MenuButtonProps> = (props) => (\n  <Button {...props} aria-haspopup=\"menu\" />\n);\n\nexport type MenuItemProps = JSX.HTMLAttributes<HTMLDivElement>;\n\nexport const MenuItem: Component<MenuItemProps> = (props) => (\n  <div tabIndex=\"0\" {...props} role=\"menuitem\" />\n);\n\nexport type MenuItemGroupProps = JSX.HTMLAttributes<HTMLDivElement> & {\n  title?: JSX.Element;\n};\n\nexport const MenuItemGroup: Component<MenuItemGroupProps> = (props) => {\n  const [local, divProps] = splitProps(props, [\"title\", \"children\"]);\n  return (\n    <div {...divProps} role=\"group\">\n      <Show when={typeof props.title === \"string\"} fallback={local.title}>\n        <p>{local.title}</p>\n      </Show>\n      {local.children}\n    </div>\n  );\n};\n\nexport type MenuOptionsContextValue = [\n  value: Accessor<string[]>,\n  change: (value: string) => void,\n  type?: \"checkbox\" | \"radio\"\n];\n\nexport const MenuOptionsContext = createContext<MenuOptionsContextValue>([\n  () => [],\n  (value) => console.warn(\"context default!\", value),\n]);\n\nexport type MenuOptionProps = Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"onchange\"\n> & {\n  onchange?: (checked?: boolean) => void;\n  value: string;\n};\n\nexport const MenuOption: Component<MenuOptionProps> = (props) => {\n  const [local, divProps] = splitProps(props, [\"value\", \"onchange\"]);\n  const [value, change, type] = useContext(MenuOptionsContext);\n  const selected = createMemo(() => value().includes(props.value));\n  const clickHandler = createMemo(\n    () => () => props[\"aria-disabled\"] !== \"true\" && change(props.value)\n  );\n  const keyHandler = createMemo(() => (ev: KeyboardEvent) => {\n    if (ev.key === \" \") {\n      ev.preventDefault();\n      props[\"aria-disabled\"] !== \"true\" && change(props.value);\n    }\n  });\n\n  createEffect(() => {\n    props.onchange?.(selected());\n  });\n\n  return (\n    <div\n      aria-selected={selected()}\n      tabIndex={\n        (type === \"checkbox\" || !selected()) &&\n        props[\"aria-disabled\"] !== \"true\"\n          ? \"0\"\n          : \"-1\"\n      }\n      {...divProps}\n      role={type !== \"checkbox\" ? \"menuitemradio\" : \"menuitemcheckbox\"}\n      onclick={clickHandler()}\n      onkeypress={keyHandler()}\n    />\n  );\n};\n\nexport type MenuOptionGroupProps = Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"onchange\"\n> &\n  (\n    | {\n        type: \"checkbox\";\n        onchange?: (value: string[]) => void;\n        title?: JSX.Element;\n        value?: string[];\n      }\n    | {\n        type?: \"radio\" | undefined;\n        onchange?: (value: string) => void;\n        title?: JSX.Element;\n        value?: [string] | string;\n      }\n  );\n\nexport const MenuOptionGroup = (props: MenuOptionGroupProps): JSX.Element => {\n  const [local, divProps] = splitProps(props, [\n    \"title\",\n    \"value\",\n    \"onchange\",\n    \"children\",\n    \"type\",\n  ]);\n  const [value, setValue] = createSignal(\n    Array.isArray(local.value) ? local.value : local.value ? [local.value] : [],\n    {\n      equals: (prev, next) =>\n        prev.length === next.length && prev[0] === next[0],\n    }\n  );\n  const change = createMemo<(value: string) => void>(() =>\n    props.type === \"checkbox\"\n      ? (value) =>\n          setValue((prev) =>\n            prev.includes(value)\n              ? prev.filter((item) => item !== value)\n              : [...prev, value]\n          )\n      : (value) => setValue((prev) => (prev[0] === value ? prev : [value]))\n  );\n\n  createEffect((lastVal?: string | string[] | [string]) => {\n    if (lastVal !== local.value) {\n      setValue(\n        Array.isArray(local.value)\n          ? local.value\n          : local.value\n          ? [local.value]\n          : []\n      );\n    }\n    return local.value;\n  }, local.value);\n\n  createEffect((lastVal?: string[]) => {\n    const newVal = value();\n    if (\n      props.type === \"checkbox\"\n        ? newVal.length === lastVal?.length\n        : newVal[0] === lastVal?.[0]\n    ) {\n      return lastVal;\n    }\n    props.type === \"checkbox\"\n      ? props.onchange?.(newVal)\n      : props.onchange?.(newVal[0]);\n    return newVal;\n  }, value());\n\n  return (\n    <div tabIndex=\"-1\" role=\"group\" {...divProps}>\n      <Show when={typeof props.title === \"string\"} fallback={local.title}>\n        <p>{local.title}</p>\n      </Show>\n      <MenuOptionsContext.Provider value={[value, change(), local.type]}>\n        {local.children}\n      </MenuOptionsContext.Provider>\n    </div>\n  );\n};\n","import {\n  Accessor,\n  Component,\n  JSX,\n  splitProps,\n  createEffect,\n  createSignal,\n  createMemo,\n  mergeProps,\n  Switch,\n  Match,\n} from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport \"./base.css\";\nimport \"./modal.css\";\nimport { getElements, WrappedElement } from \"./tools\";\n\nexport type WrappedModalContentProps = {\n  open: Accessor<boolean>;\n  /**\n   * toggle\n   *\n   * if called with boolean argument, it will set the open state\n   * according to the argument, otherwise toggle it\n   */\n  toggle: (open?: boolean | unknown) => void;\n};\n\nexport type ModalProps = Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"children\"\n> & {\n  closeOnClickOutside?: boolean;\n  closeOnEsc?: boolean;\n  open?: boolean;\n  noPortal?: boolean;\n  children: WrappedElement<WrappedModalContentProps> | JSX.Element;\n};\n\nlet modalCount = 0;\n\nexport const Modal = (props: ModalProps): JSX.Element => {\n  const [local, containerProps] = splitProps(props, [\n    \"open\",\n    \"noPortal\",\n    \"children\",\n  ]);\n  const [open, setOpen] = createSignal(local.open);\n  const toggle = (open?: boolean) =>\n    setOpen(typeof open === \"boolean\" ? open : (o) => !o);\n  const modalContent = createMemo(() =>\n    getElements(\n      local.children,\n      (node) => node.className.indexOf(\"sb-modal-content\") !== -1,\n      [{ open, toggle }]\n    ) ?? []\n  );\n  const otherChildren = createMemo(() =>\n    getElements(\n      local.children,\n      (node) => node.className.indexOf(\"sb-modal-content\") === -1,\n      [{ open, toggle }]\n    )\n  );\n\n  let modalRef!: HTMLDivElement;\n  createEffect(() => open() && (modalRef?.focus(), modalRef?.scrollIntoView()));\n\n  modalCount++;\n\n  createEffect(() => {\n    if (!modalRef) {\n      return;\n    }\n    const header = modalRef.querySelector(\".sb-modal-header\");\n    if (header) {\n      modalRef.setAttribute(\n        \"aria-labelledby\",\n        header.id || (() => (header.id = `sb-modal-header-${modalCount}`))()\n      );\n    }\n    const body = modalRef.querySelector(\".sb-modal-body\");\n    if (body) {\n      modalRef.setAttribute(\n        \"aria-describedby\",\n        body.id || (() => (body.id = `sb-modal-body-${modalCount}`))()\n      );\n    }\n  });\n\n  const divProps = mergeProps(containerProps, {\n    role: \"dialog\" as JSX.HTMLAttributes<HTMLDivElement>['role'],\n    tabIndex: -1,\n    class: props.class ? `sb-modal ${props.class}` : \"sb-modal\",\n    children: modalContent(),\n    onClick: createMemo(() =>\n      props.closeOnClickOutside\n        ? (ev: MouseEvent) => {\n            const target = ev.target as HTMLElement;\n            if (!modalContent().some((content) => content?.contains(target))) {\n              toggle(false);\n            }\n          }\n        : undefined\n    )(),\n    onkeyup: createMemo(() =>\n      props.closeOnEsc !== false\n        ? (ev: KeyboardEvent) => {\n            console.log(ev);\n            if (ev.key === \"Escape\" && !ev.defaultPrevented) {\n              setOpen(false);\n            }\n          }\n        : undefined\n    )(),\n  });\n\n  return (\n    <Switch>\n      <Match when={!open()}>{otherChildren()}</Match>\n      <Match when={open() && local.noPortal}>\n        <>\n          {otherChildren()}\n          <div ref={modalRef} {...divProps} />\n        </>\n      </Match>\n      <Match when={open() && !local.noPortal}>\n        <>\n          {otherChildren()}\n          <Portal mount={document.body}>\n            <div ref={modalRef} {...divProps} />\n          </Portal>\n        </>\n      </Match>\n    </Switch>\n  );\n};\n\nexport type ModalContentProps = JSX.HTMLAttributes<HTMLDivElement>;\n\nexport const ModalContent: Component<ModalContentProps> = (props) => (\n  <div\n    {...props}\n    class={props.class ? `sb-modal-content ${props.class}` : \"sb-modal-content\"}\n  />\n);\n\nexport type ModalHeaderProps = JSX.HTMLAttributes<HTMLElement>;\n\nexport const ModalHeader: Component<ModalHeaderProps> = (props) => (\n  <header\n    {...props}\n    class={props.class ? `sb-modal-header ${props.class}` : \"sb-modal-header\"}\n  />\n);\n\nexport type ModalBodyProps = JSX.HTMLAttributes<HTMLElement>;\n\nexport const ModalBody: Component<ModalBodyProps> = (props) => (\n  <main\n    {...props}\n    class={props.class ? `sb-modal-body ${props.class}` : \"sb-modal-body\"}\n  />\n);\n\nexport type ModalFooterProps = JSX.HTMLAttributes<HTMLElement>;\n\nexport const ModalFooter: Component<ModalFooterProps> = (props) => (\n  <footer\n    {...props}\n    class={props.class ? `sb-modal-footer ${props.class}` : \"sb-modal-footer\"}\n  />\n);\n","import { Component, JSX } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./progress.css\";\n\nexport type ProgressProps = JSX.ProgressHTMLAttributes<HTMLProgressElement>;\n\nexport const Progress: Component<ProgressProps> = (props) => (\n  <progress\n    aria-busy={props?.value !== props?.max}\n    aria-live=\"polite\"\n    {...props}\n    class={props.class ? `sb-progress ${props.class}` : \"sb-progress\"}\n  />\n);\n","import {\n  Component,\n  JSX,\n  splitProps,\n  Show,\n  createEffect,\n  onMount,\n} from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./radio.css\";\n\nexport type RadioProps = JSX.HTMLAttributes<HTMLLabelElement> &\n  JSX.HTMLAttributes<HTMLInputElement> & {\n    /**\n     * align the checkbox inside its label\n     * can be 'left' or 'right; default is 'left'\n     */\n    align?: \"left\" | \"right\";\n    autofocus?: boolean;\n    checked?: boolean;\n    disabled?: boolean;\n    name?: string;\n    oninvalid?: JSX.EventHandler<HTMLInputElement, Event>;\n    required?: boolean;\n    value?: string;\n  };\n\nexport const Radio: Component<RadioProps> = (props) => {\n  const [inputProps, content, labelProps] = splitProps(\n    props,\n    [\n      \"accessKey\",\n      \"align\",\n      \"aria-disabled\",\n      \"aria-invalid\",\n      \"autofocus\",\n      \"checked\",\n      \"class\",\n      \"disabled\",\n      \"id\",\n      \"name\",\n      \"onchange\",\n      \"onclick\",\n      \"onkeydown\",\n      \"onkeypress\",\n      \"onkeyup\",\n      \"oninvalid\",\n      \"required\",\n      \"value\",\n    ],\n    [\"align\", \"children\"]\n  );\n\n  return (\n    <label\n      class={`${content.align || \"left\"} sb-radio${\n        inputProps.disabled ? \" disabled\" : \"\"\n      }`}\n      {...labelProps}\n    >\n      <Show when={content.align === \"right\"}>{content.children}</Show>\n      <input type=\"radio\" {...inputProps} />\n      <Show when={content.align !== \"right\"}>{content.children}</Show>\n    </label>\n  );\n};\n\nexport type RadioGroupProps = Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"onchange\"\n> & {\n  onchange?: (value: string) => void;\n  value?: string;\n};\n\nlet radioGroups = 1;\n\nexport const RadioGroup: Component<RadioGroupProps> = (props) => {\n  const [local, divProps] = splitProps(props, [\n    \"onchange\",\n    \"value\",\n    \"children\",\n  ]);\n\n  let group!: HTMLDivElement;\n  onMount(() => {\n    const items = group.querySelectorAll('input[type=\"radio\"]');\n    if (\n      Array.prototype.some.call(items, (item) => !item.hasAttribute(\"name\"))\n    ) {\n      const name = (\n        Array.prototype.find.call(items, (item) =>\n          item.hasAttribute(\"name\")\n        ) || { name: `sb-radio-group-${radioGroups++}` }\n      ).name;\n      Array.prototype.forEach.call(items, (item) => {\n        item.setAttribute(\"name\", name);\n      });\n    }\n  });\n  createEffect(() => {\n    if (local.value) {\n      const items = group.querySelectorAll('input[type=\"radio\"]');\n      Array.prototype.forEach.call(items, (item) => {\n        item.checked = item.value === local.value;\n      });\n    }\n  });\n\n  let value = local.value;\n  const changeHandler = () => {\n    const newValue = group?.querySelector<HTMLInputElement>('input[type=\"radio\"]:checked')?.value;\n    if (newValue && value !== newValue) {\n      local.onchange?.(newValue);\n      value = newValue;\n    }\n  };\n\n  return (\n    <div\n      ref={group}\n      role=\"radiogroup\"\n      onkeyup={changeHandler}\n      onclick={changeHandler}\n      {...divProps}\n      class={\n        divProps.class ? `sb-radiogroup ${divProps.class}` : \"sb-radiogroup\"\n      }\n    >\n      {local.children}\n    </div>\n  );\n};\n","import { Component, JSX, splitProps, onMount } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./select.css\";\n\nexport type SelectProps = Omit<\n  JSX.SelectHTMLAttributes<HTMLSelectElement>,\n  \"onchange\"\n> & { label: JSX.Element; onchange?: (value: string) => void };\n\nexport const Select: Component<SelectProps> = (props) => {\n  const [local, fieldProps] = splitProps(props, [\n    \"label\",\n    \"onchange\",\n    \"aria-orientation\",\n  ]);\n  return (\n    <label\n      classList={{ \"sb-select\": true, disabled: props.disabled }}\n      aria-orientation={local[\"aria-orientation\"]}\n    >\n      <span class=\"sb-select-label\">{local.label}</span>\n      <select\n        {...fieldProps}\n        onchange={(ev) => local.onchange?.((ev.target as HTMLSelectElement).value)}\n      />\n    </label>\n  );\n};\n","import { Component, JSX } from \"solid-js\";\n\nimport \"./base.css\";\nimport \"./spinner.css\";\n\nexport type SpinnerProps = JSX.HTMLAttributes<HTMLProgressElement>;\n\nexport const Spinner: Component<SpinnerProps> = (props) => (\n  <progress\n    class={props.class ? `sb-spinner ${props.class}` : \"sb-spinner\"}\n    aria-busy=\"true\"\n    aria-live=\"polite\"\n    {...props}\n  />\n);\n","import {\n  createSignal,\n  createEffect,\n  Component,\n  JSX,\n  createMemo,\n  mergeProps,\n} from \"solid-js\";\nimport { getElements, getNearestNode } from \"./tools\";\nimport \"./base.css\";\nimport \"./tabs.css\";\n\nexport type TabsProps = Omit<JSX.HTMLAttributes<HTMLElement>, 'onchange'> & {\n  index?: number;\n  vertical?: boolean;\n  onchange?: (index?: number) => void;\n};\n\nconst setTabState = (tab: HTMLElement, nr: number, index: number) => {\n  const selected = nr === index;\n  if (\n    tab?.getAttribute &&\n    (tab.getAttribute(\"aria-selected\") === \"true\") !== selected\n  ) {\n    tab.setAttribute(\"aria-selected\", selected ? \"true\" : \"false\");\n    tab.setAttribute(\"tabIndex\", selected ? \"-1\" : \"0\");\n  }\n};\n\nconst setPanelState = (panel: HTMLElement, nr: number, index: number) => {\n  if (panel?.hasAttribute && panel.hasAttribute(\"hidden\") === (nr === index)) {\n    panel[nr === index ? \"removeAttribute\" : \"setAttribute\"](\n      \"hidden\",\n      \"hidden\"\n    );\n  }\n};\n\nexport const Tabs: Component<TabsProps> = (props) => {\n  const [selected, setSelected] = createSignal(props.index ?? 0);\n  const tabs = createMemo(() => getElements(props.children, \"LI\") || []);\n  const panels = createMemo(() => getElements(props.children, \"DIV\") || []);\n\n  createEffect(() => {\n    if (tabs().length !== panels().length) {\n      console.warn(\n        `solid-blocks tabs: items count mismatch: ${tabs().length} tabs and ${\n          panels().length\n        }`\n      );\n    }\n    const index = selected() % tabs().length;\n    props.onchange?.(index);\n    tabs().forEach((tab, nr) => {\n      const elem = tab as HTMLLIElement;\n      setTabState(elem, nr, index);\n    });\n    panels().forEach((panel, nr) => {\n      const elem = panel as HTMLDivElement;\n      setPanelState(elem, nr, index);\n    });\n  });\n\n  const clickHandler = (ev: MouseEvent) => {\n    const tab = getNearestNode(ev.target, \"LI\") as HTMLLIElement | undefined;\n    if (!tab) {\n      return;\n    }\n    const index = Array.prototype.indexOf.call(tab.parentNode?.childNodes, tab);\n    if (index !== -1) {\n      setSelected(Number(index));\n    }\n  };\n  const keyupHandler = (ev: KeyboardEvent) => {\n    const tab = getNearestNode(ev.target, \"LI\") as HTMLLIElement | undefined;\n    const tabs = tab?.parentElement?.childNodes ?? [];\n    const index = Array.prototype.indexOf.call(tabs, tab);\n    if (index !== -1) {\n      if (ev.key === \" \") {\n        setSelected(index);\n      } else if (ev.key === \"ArrowLeft\" && index !== 0) {\n        setSelected(index - 1);\n        (tabs[index - 1] as HTMLLIElement).focus();\n      } else if (ev.key === \"ArrowRight\" && index + 1 < tabs.length) {\n        setSelected(index + 1);\n        (tabs[index + 1] as HTMLLIElement).focus();\n      }\n    }\n  };\n\n  return (\n    <section classList={mergeProps(props.classList ?? {}, { \"sb-tabs\": true })}>\n      <ul\n        role=\"tablist\"\n        aria-orientation={!props.vertical ? \"horizontal\" : \"vertical\"}\n        onClick={clickHandler}\n        onKeyUp={keyupHandler}\n      >\n        {tabs()}\n      </ul>\n      {panels()}\n    </section>\n  );\n};\n\nexport type TabProps = JSX.HTMLAttributes<HTMLLIElement>;\n\nexport const Tab: Component<TabProps> = (props) => {\n  return <li role=\"tab\" tabindex=\"0\" {...props} />;\n};\n\nexport type TabContainerProps = JSX.HTMLAttributes<HTMLDivElement>;\n\nexport const TabContainer: Component<TabContainerProps> = (props) => {\n  return <div role=\"tabpanel\" {...props} />;\n};\n","import { Component, JSX, mergeProps, splitProps, Show } from \"solid-js\";\n\nimport { getRandom } from \"./tools\";\n\nimport \"./base.css\";\nimport \"./tag.css\";\n\nexport type TagProps = (JSX.HTMLAttributes<HTMLSpanElement> &\n  Partial<JSX.AnchorHTMLAttributes<HTMLAnchorElement>>) & { plain?: boolean };\n\nexport const Tag: Component<TagProps> = (props) => {\n  const [local, tagProps] = splitProps(props, [\"plain\"]);\n  const mergedProps = mergeProps(\n    {\n      \"data-random\": local.plain ? undefined : getRandom(),\n      rel: props.target ? \"tag noopener\" : \"tag\",\n    },\n    tagProps,\n    { class: props.class ? `sb-tag ${props.class}` : \"sb-tag\" }\n  );\n  return (\n    <Show\n      when={typeof mergedProps.href === \"string\"}\n      fallback={<span {...mergedProps} />}\n    >\n      <a {...mergedProps} />\n    </Show>\n  );\n};\n\nexport type TagGroupProps = JSX.HTMLAttributes<HTMLDivElement>;\n\nexport const TagGroup: Component<TagGroupProps> = (props) => {\n  return (\n    <div\n      {...props}\n      class={props.class ? `sb-tag-group ${props.class}` : \"sb-tag-group\"}\n    />\n  );\n};\n","import { Component, createMemo, JSX, splitProps, mergeProps } from \"solid-js\";\nimport { Dynamic } from \"solid-js/web\";\n\nimport \"./base.css\";\nimport \"./textfield.css\";\n\nexport type TextFieldType =\n  | \"text\"\n  | \"color\"\n  | \"date\"\n  | \"datetime-local\"\n  | \"email\"\n  | \"file\"\n  | \"month\"\n  | \"number\"\n  | \"password\"\n  | \"range\"\n  | \"search\"\n  | \"tel\"\n  | \"time\"\n  | \"url\"\n  | \"week\";\n\nexport type TextFieldProps = {\n  \"aria-orientation\"?: \"horizontal\" | \"vertical\";\n  multiline?: boolean;\n  label: JSX.Element;\n  type?: TextFieldType;\n  onchange?: (value: string) => void;\n} & Omit<\n  JSX.InputHTMLAttributes<HTMLInputElement> &\n    JSX.TextareaHTMLAttributes<HTMLTextAreaElement>,\n  \"onchange\"\n>;\n\nexport const TextField: Component<TextFieldProps> = (props) => {\n  const [local, fieldProps] = splitProps(props, [\n    \"aria-orientation\",\n    \"classList\",\n    \"label\",\n    \"multiline\",\n    \"onchange\",\n    \"children\",\n  ]);\n  const changeHandler = createMemo(() => (ev: Event) => \n    local.onchange?.((ev.target as HTMLInputElement | HTMLTextAreaElement).value));\n\n  return (\n    <label\n      classList={mergeProps(local.classList ?? {}, { \"sb-textfield\": true })}\n      aria-orientation={props[\"aria-orientation\"]}\n    >\n      <span class=\"sb-textfield-label\">{local.label}</span>\n      <Dynamic\n        component={props.multiline ? 'textarea' : 'input'}\n        onchange={changeHandler()}\n        {...fieldProps}\n        type={!props.multiline ? fieldProps.type ?? 'text' : undefined}\n      />      \n      {local.children}\n    </label>\n  );\n};\n","import {\n  createEffect,\n  createSignal,\n  JSX,\n  onMount,\n  Show,\n  Setter,\n  splitProps,\n  createMemo,\n} from \"solid-js\";\nimport { isServer, Portal } from \"solid-js/web\";\nimport { getElements, WrappedElement } from \"./tools\";\n\nimport \"./base.css\";\nimport \"./toast.css\";\n\nconst toastPositions = [\n  \"top\",\n  \"top-right\",\n  \"top-left\",\n  \"bottom\",\n  \"bottom-right\",\n  \"bottom-left\",\n] as const;\n\nexport type ToastPosition = typeof toastPositions[number];\n\n// load previously created containers\nconst toastMountPoints = toastPositions.reduce((nodes, pos) => {\n  nodes[pos] = isServer ? null : document.getElementById(`sb-toast-${pos}`);\n  return nodes;\n}, {} as Partial<Record<ToastPosition, HTMLElement | null>>);\n\nexport type WrappedToastContentProps = {\n  update: Setter<JSX.Element | WrappedElement<WrappedToastContentProps>>;\n  hide: () => void;\n};\n\nexport type ToastProps = Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"children\"\n> & {\n  children: JSX.Element | WrappedElement<WrappedToastContentProps>;\n  /**\n   * the number of milliseconds until the toast should be hidden again;\n   * 0 means never, undefined 5 seconds\n   */\n  timeout?: number;\n  /** indicates where the toast should be rendered; default position will be top-right */\n  position?: ToastPosition;\n  mount?: HTMLElement;\n  onhide?: () => void;\n};\n\nconst div = document.createElement(\"div\");\n\nconst addMountPoint = (position: ToastPosition = \"top-right\") => {\n  const mountPoint = div.cloneNode() as HTMLDivElement;\n  mountPoint.id = `sb-toast-${position}`;\n  toastMountPoints[position] = mountPoint;\n  document.body.appendChild(mountPoint);\n  return mountPoint;\n};\n\nexport const Toast = (props: ToastProps): JSX.Element => {\n  const [local, divProps] = splitProps(props, [\n    \"timeout\",\n    \"position\",\n    \"children\",\n    \"mount\",\n    \"onhide\",\n  ]);\n  const mountPoint = createMemo(\n    () =>\n      local.mount ||\n      toastMountPoints[local.position || \"top-right\"] ||\n      addMountPoint(local.position)\n  );\n\n  const [visible, setVisible] = createSignal(true);\n  const hide = () => setVisible(false);\n  const [newChildren, update] = createSignal<JSX.Element>();\n  const [children, setChildren] = createSignal(\n    getElements(local.children, () => true, [{ update, hide }])\n  );\n\n  onMount(\n    () =>\n      props.timeout !== 0 &&\n      setTimeout(() => setVisible(false), props.timeout ?? 5000)\n  );\n\n  createEffect(() => {\n    newChildren() &&\n      setChildren(getElements(newChildren(), () => true, [{ update, hide }]));\n  });\n\n  createEffect(() => !visible() && props.onhide?.());\n\n  createEffect(() => {\n    const container = mountPoint();\n    if (container === props.mount) {\n      return;\n    }\n    if (!visible() && container?.childElementCount === 0) {\n      document.body.removeChild(container);\n    } else if (visible() && container && !container?.parentNode) {\n      document.body.appendChild(container);\n    }\n  });\n\n  return (\n    <Show when={visible()}>\n      <Portal mount={mountPoint()}>\n        <div\n          {...divProps}\n          class={divProps.class ? `sb-toast ${divProps.class}` : \"sb-toast\"}\n        >\n          {children()}\n        </div>\n      </Portal>\n    </Show>\n  );\n};\n","import {\n  Accessor,\n  Component,\n  createEffect,\n  createMemo,\n  createSignal,\n  splitProps,\n} from \"solid-js\";\nimport type { JSX } from \"solid-js\";\nimport \"./base.css\";\nimport \"./tooltip.css\";\n\nexport type TooltipTrigger =\n  | boolean\n  | \"focus\"\n  | \"hover\"\n  | Accessor<boolean>\n  | (\"focus\" | \"hover\" | Accessor<boolean>)[];\n\nexport type TooltipPosition = \"nw\" | \"n\" | \"ne\" | \"e\" | \"se\" | \"s\" | \"sw\" | \"w\";\n\nexport type TooltipProps = JSX.HTMLAttributes<HTMLSpanElement> & {\n  arrow?: boolean;\n  nowrap?: boolean;\n  position?: TooltipPosition;\n  content: JSX.Element;\n  trigger?: TooltipTrigger;\n};\n\ndeclare module \"solid-js\" {\n  namespace JSX {\n    interface CustomCaptureEvents {\n      focus: FocusEvent;\n      blur: FocusEvent;\n    }\n  }\n}\n\nconst computeVisible = (\n  trigger: TooltipTrigger | undefined,\n  initial?: boolean\n): boolean =>\n  trigger === undefined\n    ? false\n    : (Array.isArray(trigger) ? trigger : [trigger]).reduce<boolean>(\n        (visible: boolean, trigger: TooltipTrigger) =>\n          typeof trigger === \"boolean\"\n            ? trigger\n            : typeof trigger === \"function\"\n            ? trigger()\n            : visible,\n        initial ?? false\n      );\n\nconst triggerHas = (\n  trigger: TooltipProps[\"trigger\"] | undefined,\n  event: \"focus\" | \"hover\"\n) =>\n  trigger === undefined ||\n  trigger === event ||\n  (Array.isArray(trigger) && trigger.includes(event));\n\nconst wrapText = (children: JSX.Element): JSX.Element => {\n  if (typeof children === \"function\") {\n    return wrapText(children());\n  }\n  if (typeof children === \"string\") {\n    return (<span tabIndex=\"0\">{children}</span>);\n  }\n  if (Array.isArray(children)) {\n    const result = children.map((child) =>\n      typeof child === \"function\" ? child() : child\n    );\n    if (result.every((child) => typeof child === \"string\")) {\n      return (<span tabIndex=\"0\">{result}</span>);\n    }\n    return result;\n  }\n  return children;\n};\n\nexport const Tooltip: Component<TooltipProps> = (props) => {\n  let wrapperRef!: HTMLSpanElement;\n\n  const [local, spanProps] = splitProps(props, [\n    \"children\",\n    \"position\",\n    \"content\",\n    \"trigger\",\n    \"arrow\",\n    \"nowrap\",\n  ]);\n  const useFocus = createMemo(() => triggerHas(local.trigger, \"focus\"));\n  const useHover = createMemo(() => triggerHas(local.trigger, \"hover\"));\n  const children = createMemo(() =>\n    triggerHas(local.trigger, \"focus\")\n      ? wrapText(local.children)\n      : local.children\n  );\n  const [visible, setVisible] = createSignal(false);\n  createEffect(() => setVisible(computeVisible(local.trigger)));\n\n  const [positionStyle, setPositionStyle] = createSignal<JSX.CSSProperties>();\n\n  const focusHandler = createMemo(\n    () => (ev: FocusEvent) => useFocus() && setVisible(ev.type === \"focus\")\n  );\n  const hoverHandler = createMemo(\n    () => (ev: MouseEvent & { toElement?: HTMLElement }) =>\n      useHover() && setVisible(wrapperRef.contains((ev.toElement ?? ev.target) as Node | null))\n  );\n\n  createEffect(() => {\n    if (!visible() || !wrapperRef?.offsetHeight) {\n      return { top: \"10px\" };\n    }\n    setPositionStyle(\n      local.position === \"nw\"\n        ? {\n            top: `${wrapperRef.offsetTop}px`,\n            left: `${wrapperRef.offsetLeft}px`,\n          }\n        : local.position === \"n\"\n        ? {\n            top: `${wrapperRef.offsetTop}px`,\n            left: `${wrapperRef.offsetLeft + (wrapperRef.offsetWidth >> 1)}px`,\n          }\n        : local.position === \"ne\"\n        ? {\n            top: `${wrapperRef.offsetTop}px`,\n            left: `${wrapperRef.offsetLeft + wrapperRef.offsetWidth}px`,\n          }\n        : local.position === \"e\"\n        ? {\n            top: `${wrapperRef.offsetTop + (wrapperRef.offsetHeight >> 1)}px`,\n            left: `${wrapperRef.offsetLeft + wrapperRef.offsetWidth}px`,\n          }\n        : local.position === \"se\"\n        ? {\n            top: `${wrapperRef.offsetTop + wrapperRef.offsetHeight}px`,\n            left: `${wrapperRef.offsetLeft + wrapperRef.offsetWidth}px`,\n          }\n        : local.position === \"sw\"\n        ? {\n            top: `${wrapperRef.offsetTop + wrapperRef.offsetHeight}px`,\n            left: `${wrapperRef.offsetLeft}px`,\n          }\n        : local.position === \"w\"\n        ? {\n            top: `${wrapperRef.offsetTop + (wrapperRef.offsetHeight >> 1)}px`,\n            left: `${wrapperRef.offsetLeft}px`,\n          }\n        : /* s is default */ {\n            top: `${wrapperRef.offsetTop + wrapperRef.offsetHeight}px`,\n            left: `${wrapperRef.offsetLeft + (wrapperRef.offsetWidth >> 1)}px`,\n          }\n    );\n  });\n\n  return (\n    <span\n      ref={wrapperRef}\n      aria-haspopup=\"true\"\n      aria-expanded={visible()}\n      class={`sb-tooltip-wrapper position-${local.position ?? \"s\"}${\n        local.arrow === false ? \"\" : \" arrow\"\n      }${local.nowrap ? \" nowrap\" : \"\"}`}\n      oncapture:focus={focusHandler()}\n      oncapture:blur={focusHandler()}\n      onmouseover={hoverHandler()}\n      onmouseleave={hoverHandler()}\n    >\n      {children()}\n      <span\n        {...spanProps}\n        role=\"tooltip\"\n        hidden={!visible()}\n        style={positionStyle()}\n      >\n        {local.content}\n      </span>\n    </span>\n  );\n};\n"],"names":["booleans","Properties","ChildProperties","Aliases","PropAliases","DelegatedEvents","SVGElements","SVGNamespace","reconcileArrays","parentNode","a","b","bLength","aEnd","bEnd","aStart","bStart","after","map","node","i","index","sequence","t","$$EVENTS","template","html","check","isSVG","delegateEvents","eventNames","document","e","l","name","eventHandler","setAttribute","value","setAttributeNS","namespace","className","addEventListener","handler","delegate","handlerFn","classList","prev","classKeys","prevKeys","len","key","toggleClassKey","classValue","style","nodeStyle","v","spread","props","skipChildren","prevProps","createRenderEffect","insertExpression","assign","use","fn","element","arg","untrack","insert","parent","accessor","marker","initial","current","skipRef","prop","assignProp","getNextElement","sharedConfig","getHydrationKey","toPropertyName","_","w","classNames","nameLen","isCE","isProp","isChildProp","h","ns","elem","data","unwrapArray","multi","cleanChildren","array","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap","dynamic","item","replacement","inserted","el","isParent","hydrate","isServer","SVG_NAMESPACE","createElement","tagName","Portal","useShadow","mount","renderPortal","set","createSignal","clean","setClean","cleanup","createRoot","dispose","onCleanup","container","renderRoot","Dynamic","p","others","splitProps","cached","createMemo","component","isSvg","toStyleObject","styleObject","composeStyles","styles","getNearestNode","target","nearest","maxRandom","lastItem","getRandom","nextItem","useMediaQuery","query","matcher","matches","setMatches","changeHandler","ev","parseStorage","useJson","putStorage","createLocalStorageSignal","initialValue","setValue","createEffect","useDarkMode","localStorageKey","mediaQueryPrefersDark","storedPrefersDark","setStoredPrefersDark","darkMode","_a","getElements","children","filter","result","child","Accordion","local","detailsProps","open","setOpen","detailsRef","toggleHandler","ontoggle","onMount","_el$","_tmpl$","_ref$","_$use","_$spread","_$insert","_$effect","_p$","_v$","mergeProps","_v$2","_$classList","AccordionHeader","_el$2","_tmpl$2","_$p","AccordionGroup","divProps","clickHandler","details","querySelectorAll","length","allowMultiple","Array","prototype","forEach","call","removeAttribute","allowToggle","preventDefault","keyupHandler","grouped","indexOf","detail","summary","querySelector","focus","click","_el$3","_tmpl$3","_$addEventListener","char","initialsRegexp","RegExp","getInitials","replace","toUpperCase","Avatar","initials","img","_$setAttribute","_v$3","_v$4","_el$4","_v$5","_v$7","_v$6","_el$5","fallback","_v$8","_v$9","AvatarBadge","spanProps","composedStyle","borderColor","background","_el$6","_tmpl$4","_v$10","_v$11","_$style","AvatarGroup","_el$7","_tmpl$5","_v$12","_v$13","isArray","Bar","rest","class","placement","position","portal","_$createComponent","Breadcrumbs","For","Button","buttonProps","variant","Checkbox","inputProps","content","labelProps","onchange","checked","Show","align","switch","undefined","_$className","Message","messageProps","Set","type","inline","Boolean","join","Meter","min","max","getFirstMenuButton","counter","isFirstMenuButton","nodeName","getAttribute","getMenuItems","Menu","opener","menuItems","menuRef","visible","role","button","defaultPrevented","contains","capture","removeEventListener","focusItem","overHandler","includes","tabIndex","moveFocus","step","currentPos","findIndex","newPos","keyHandler","radios","MenuButton","MenuItem","MenuItemGroup","title","MenuOptionsContext","createContext","console","warn","MenuOption","change","useContext","selected","MenuOptionGroup","equals","next","lastVal","newVal","_tmpl$6","_el$8","modalCount","Modal","containerProps","toggle","o","modalContent","otherChildren","modalRef","scrollIntoView","header","id","body","onClick","closeOnClickOutside","some","onkeyup","closeOnEsc","log","Switch","Match","noPortal","_$memo","_ref$2","ModalContent","ModalHeader","ModalBody","ModalFooter","Progress","Radio","disabled","radioGroups","RadioGroup","group","items","hasAttribute","find","newValue","Select","fieldProps","label","Spinner","setTabState","tab","nr","setPanelState","panel","Tabs","setSelected","tabs","panels","childNodes","Number","parentElement","vertical","Tab","TabContainer","Tag","tagProps","mergedProps","plain","rel","href","TagGroup","TextField","_$mergeProps","multiline","toastPositions","toastMountPoints","reduce","nodes","pos","getElementById","div","addMountPoint","mountPoint","cloneNode","appendChild","Toast","setVisible","hide","newChildren","update","setChildren","timeout","setTimeout","onhide","childElementCount","removeChild","computeVisible","trigger","triggerHas","event","wrapText","every","Tooltip","wrapperRef","useFocus","useHover","positionStyle","setPositionStyle","focusHandler","hoverHandler","toElement","offsetHeight","top","offsetTop","left","offsetLeft","offsetWidth","arrow","nowrap"],"mappings":"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"}